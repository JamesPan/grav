---
title: 一不小心被文件锁坑了然后就死锁了
published: false
---

前几天同事来找我看一个问题，说是一个 Python 进程完全堵住了。从日志来看确实是堵住了，卡在了一个奇怪的地方：尝试获取文件锁。比较悲催的是这段堵住的代码是我写的，简单地包装了一下领域相关的 CGroups 操作和一些目录、权限的创建和回收。之前这份差事在我眼中属于「无聊的日常」。

工作并不总是充满挑战和乐趣，正因为大部分工作都是无聊的日常和琐碎的协作，有时候还有无奈的填坑和妥协的背锅，挑战和乐趣才显得难能可贵。

===


